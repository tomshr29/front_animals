import{u as o,j as a}from"./index-DgK2n8Ij.js";import{u as r}from"./useForm-DMYASJ6g.js";function i(){const t=o(),s=r({defaultValues:{name:"",species:"",age:0,adopted:!1},onSubmit:async({value:e})=>{try{const l=await(await fetch("https://animals-api-ymzhkn-4be2e0-188-245-240-223.traefik.me//animals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();console.log("Animal créé:",l),s.reset(),t({to:"/demo/list/animals"})}catch(n){console.error("Erreur:",n)}}});return a.jsxs("form",{onSubmit:e=>{e.preventDefault(),s.handleSubmit()},className:"mx-auto max-w-md space-y-4 p-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block font-semibold",children:"Nom:"}),a.jsx(s.Field,{name:"name",validators:{onChange:({value:e})=>e?void 0:"Required"},children:e=>a.jsx("input",{id:e.name,value:e.state.value,onChange:n=>e.handleChange(n.target.value),onBlur:e.handleBlur,className:"w-full rounded border px-2 py-1"})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"species",className:"block font-semibold",children:"Espèce:"}),a.jsx(s.Field,{name:"species",validators:{onChange:({value:e})=>e?void 0:"Required"},children:e=>a.jsx("input",{id:e.name,value:e.state.value,onChange:n=>e.handleChange(n.target.value),onBlur:e.handleBlur,className:"w-full rounded border px-2 py-1"})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"age",className:"block font-semibold",children:"Âge:"}),a.jsx(s.Field,{name:"age",validators:{onChange:({value:e})=>e<0?"Must be ≥ 0":void 0},children:e=>a.jsx("input",{id:e.name,type:"number",value:e.state.value,onChange:n=>e.handleChange(Number(n.target.value)),onBlur:e.handleBlur,className:"w-full rounded border px-2 py-1"})})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(s.Field,{name:"adopted",children:e=>a.jsxs(a.Fragment,{children:[a.jsx("input",{id:e.name,type:"checkbox",checked:e.state.value,onChange:n=>e.handleChange(n.target.checked)}),a.jsx("label",{htmlFor:e.name,className:"font-semibold",children:"Adopté"})]})})}),a.jsx("button",{type:"submit",className:"rounded bg-blue-600 px-4 py-2 text-white",children:"Créer"})]})}export{i as component};
