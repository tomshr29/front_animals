import{r as n,j as e}from"./index-kmivxeNR.js";function i(){const[r,a]=n.useState(null),[o,l]=n.useState(!0);return n.useEffect(()=>{const t=localStorage.getItem("token");if(console.log("Token:",t),!t){l(!1);return}fetch("http://localhost:3333/me",{headers:{Authorization:`Bearer ${t}`}}).then(s=>{if(!s.ok)throw new Error("Unauthorized");return s.json()}).then(s=>a(s.user)).catch(()=>a(null)).finally(()=>{l(!1)})},[]),o?e.jsx("p",{className:"p-4",children:"Chargement..."}):r?e.jsxs("div",{className:"p-4",children:[e.jsx("h1",{className:"text-xl",children:"Bienvenue ðŸ‘‹"}),e.jsxs("p",{className:"mt-2",children:["Ton email : ",r.email]})]}):e.jsxs("div",{className:"p-4",children:[e.jsx("h1",{className:"text-xl",children:"Bienvenue ðŸ‘‹"}),e.jsx("p",{className:"mt-2",children:"Tu nâ€™es pas connectÃ©."})]})}export{i as component};
